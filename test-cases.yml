---
- summary: | # 1.1
    Проверка входа пользователя через аккаунт на GitHub
  requirement: |
    Пользователь может авторизоваться на сайте имея учетную запись на GitHub
  prerequisites: |
    Открыта страница логина
  test-data: |
    Профиль на GitHub = Michael57e
  steps:
    - Нажимаем "Sign in with GitHub"
  expected-result: |
    Пользователь должен попасть на главную страницу, пользователь авторизован на сайте

- summary: | # 2.1
    Создание игры с ботом
  requirement: |
    Пользователь может создать игру с ботом
  prerequisites: |
    Пользователь авторизован на сайте
  test-data: |
    нет
  steps:
    - Нажимаем кнопку "create a game"
    - В строке "game type" выбираем "with a bot"
    - Остальные параметры оставляем дефолтными
    - Нажимаем кнопку "create a battle"
  expected-result: |
    Пользователь должен создать игру против бота

- summary: | # 2.2
    Создание игры с другим пользователем
  requirement: |
    Пользователь может создать игру с другим пользователем
  prerequisites: |
    Пользователь авторизован на сайте
  test-data: |
    нет
  steps:
    - Нажимаем кнопку "create a game"
    - В строке "game type" выбираем "with other user"
    - Остальные параметры оставляем дефолтными
    - Нажимаем кнопку "create a battle"
  expected-result: |
    Пользователь создал игру против другого пользователя

- summary: | # 3
    Проверка, что пользователь может присоединиться к игре
  requirement: |
    Пользователь может присоединиться к игре
  prerequisites: |
    Пользователь авторизован на сайте, создана игра с одним участником
  test-data: |
    нет
  steps:
    - Нажимаем кнопку "Fight" в списке доступных игр
  expected-result: |
    Пользователь присоединился к игре

- summary: | # 5
    Пользователю доступны разные языки программирования
  requirement: |
    Пользователю доступны разные языки программирования
  prerequisites: |
    Пользователь авторизован на сайте, и вступил в игру
  test-data: |
    нет
  steps:
    - В открывающемся списке выбираем любой доступный язык, кроме текущего 
  expected-result: |
    Пользователь сменил язык программирования

- summary: | # 6
    После создания игры пользователь находится в режиме ожидания второго игрока
  requirement: |
    После создания игры пользователь находится в режиме ожидания второго игрока
  prerequisites: |
    Пользователь авторизован на сайте и создал игру с другим участником
  test-data: |
    нет
  steps:
    - Нажимаем "create a game"
    - Отмечаем "with other user"
  expected-result: |
    Пользователь создал игру и ожидает, когда присоединится следующий игрок

- summary: | # 7
    Пользователь может зайти в игру в качестве зрителя
  requirement: |
    Пользователь может зайти в игру в качестве зрителя
  prerequisites: |
    Пользователь авторизован на сайте. Создана игра, в которой участвуют два других пользователя
  test-data: |
    нет
  steps:
    - Нажать кнопку "Show"
  expected-result: |
    Пользователь зашел в игру в качестве зрителя

- summary: | # 8
    Пользователя соединяет с игрой, которую он выбрал
  requirement: |
    Пользователя соединяет с игрой, которую он выбрал
  prerequisites: |
    Пользователь авторизован на сайте. Пользователь Б создал игру
  test-data: |
    нет
  steps:
    - Нажать кнопку "Fight"
  expected-result: |
    Пользователь зашел в игру с пользователем Б

- summary: | # 9.1
    Пользователи могут общаться в чате на главной странице
  requirement: |
    Пользователи могут общаться в чате на главной странице
  prerequisites: |
    Пользователь авторизован на сайте. Пользователь находится на главной странице
  test-data: |
    нет
  steps:
    - Вводим сообщение "Hello" в строку ввода
    - Нажимаем кнопку "Send"
  expected-result: |
    Сообщение отправлено в чат

- summary: | # 9.2
    Пользователи могут общаться в чате в игре
  requirement: |
    Пользователи могут общаться в чате в игре
  prerequisites: |
    Пользователь авторизован на сайте. Пользователь вступил в игру
  test-data: |
    нет
  steps:
    - Вводим сообщение "Hello" в строку ввода
    - Нажимаем кнопку "Send"
  expected-result: |
    Сообщение отправлено в чат

- summary: | # 10.1
    Отображение редакторов кода в Desktop версии
  requirement: |
    Оба пользователя видят два редактора (слева - свой редактор, справа - соперника)
  prerequisites: |
    Пользователь авторизован на сайте. Пользователь вступил в игру
  test-data: |
    нет
  steps:
    - В нижней части экрана отображаются два редактора кода (слева - свой редактор, справа - соперника)
  expected-result: |
    Оба пользователя видят два редактора (слева - свой редактор, справа - соперника)

- summary: | # 10.2
    Отображение редакторов кода в мобильной версии
  requirement: |
    Оба пользователя видят два редактора (сверху - свой редактор, снизу - соперника)
  prerequisites: |
    Пользователь авторизован на сайте. Пользователь вступил в игру
  test-data: |
    нет
  steps:
    - В нижней части экрана отображаются два редактора кода (сверху - свой редактор, снизу - соперника)
  expected-result: |
    Оба пользователя видят два редактора (сверху - свой редактор, снизу - соперника)

- summary: | # 11.1
    Наверху экрана находится время игры
  requirement: |
    Наверху экрана находится время игры
  prerequisites: |
    Пользователь авторизован на сайте. Пользователь вступил в игру
  test-data: |
    нет
  steps:
    - Найти вверху экрана поле с обратным отсчетом времени
  expected-result: |
    В верхней части экрана отображается поле "Timeout in ВРЕМЯ"

- summary: | # 11.2
    Наверху экрана находится задание
  requirement: |
    Наверху экрана находится задание
  prerequisites: |
    Пользователь авторизован на сайте. Пользователь вступил в игру
  test-data: |
    нет
  steps:
    - Найти поле с заданием игры
  expected-result: |
    Под полем "Timeout in" отображается поле с заданием

- summary: | # 13.1
    Отображение кнопки для проверки решения
  requirement: |
    Пользователь имеет кнопку для проверки своего решения
  prerequisites: |
    Пользователь авторизован на сайте. Пользователь вступил в игру
  test-data: |
    нет
  steps:
    - Нажать кнопку "Run"
  expected-result: |
    Кнопка отображается, происходит проверка решения

- summary: | # 14
    Количество попыток проверки решения неограниченно
  requirement: |
    Количество попыток проверки решения неограниченно
  prerequisites: |
    Пользователь авторизован на сайте. Пользователь вступил в игру
  test-data: |
    нет
  steps:
    - Нажать кнопку "Run"
    - Повторить действие
  expected-result: |
    Пользователь может вызывать проверку кода неограниченное число раз

- summary: | # 15.1
    Модальное окно победителя
  requirement: |
    Когда один из игроков находит верное решение, обоим игрокам
    высвечивается модальное окно, где написано, кто является победителем этой игры
  prerequisites: |
    Пользователь авторизован на сайте
  test-data: |
    level = 1
    game type = with a bot
    time control = 10 min
    task = rect_area

    code =
    const _ = require("lodash");
    const R = require("rambda");

    const solution = (width, length) => {
      return width * length;
    };

    module.exports = solution;
  steps:
    - Создать игру с заданными параметрами
    - Выбрать язык Node.js
    - Дописать код, чтобы он соответствовал коду из test-data
    - Нажать "Run"
  expected-result: |
    Пользователь видит модальное окно победителя со своим именем

- summary: | # 16.1
    Пользователь, после поражения, может доиграть до конца отведенного времени
  requirement: |
    Пользователь, после поражения, может доиграть до конца отведенного времени
  prerequisites: |
    Пользователь авторизован на сайте. Пользователь проиграл в игре
  test-data: |
    нет
  steps:
    - Пользователь продолжает играть до истечения отведенного времени
  expected-result: |
    Пользователь может доиграть до конца отведенного времени после поражения 

- summary: | # 17.1
    После победы в игре появилась кнопка выхода
  requirement: |
    У победителя появилась кнопка "Exit"
  prerequisites: |
    Пользователь авторизован на сайте. Пользователь выиграл в игре
  test-data: |
    нет
  steps:
    - Появилась кнопка "Exit"
  expected-result: |
    Победитель видит кнопку "Exit"

- summary: | # 17.2
    После победы кнопка "Exit" выводит на главную страницу
  requirement: |
    Победитель может выйти из игры по нажатию кнопки "exit", которая выведет его на главную страницу
  prerequisites: |
    Пользователь авторизован на сайте. Пользователь выиграл в игре
  test-data: |
    нет
  steps:
    - Нажать кнопку "exit"
  expected-result: |
    Победитель вышел из игры и оказался на главной странице

- summary: | # 18
    Проверка, что игра удаляется из памяти после выхода обоих игроков
  requirement: |
    Когда оба игрока вышли, игра считается полностью законченной и удаляется из памяти
  prerequisites: |
    Идёт активная игра между двумя игроками
  test-data: |
    Игрок A, Игрок B
  steps:
    - Игрок A нажимает "Выйти из игры"
    - Игрок B нажимает "Выйти из игры"
    - Проверить, что в интерфейсе игра больше не отображается в списке активных игр
  expected-result: |
    Игра не отображается в списке активных игр

- summary: | # 22
    Сайт совместим с последними версиями браузеров
  requirement: |
    Сайт совместим с последними версиями браузеров
  prerequisites: |
    нет
  test-data: |
    Браузеры Google Chrome v. 138, Safari v. 5.1, Firefox v. 140
  steps:
    - Открыть главную страницу
    - Создать игру
    - Завершить игру
    - Открыть профиль пользователя
    - Открыть настройки профиля
    - Смненить браузер и повторить шаги
  expected-result: |
    Все шаги выполняются корректно. Сайт корректно работает на последних
    версиях браузеров

- summary: | # 23
    Игра завершается по истечению времени игры
  requirement: |
    Игра завершилась, когда истекло время на таймере игры.
    Результат игры - победителя нет
  prerequisites: |
    Пользователь авторизован
  test-data: |
    level = 1
    game type = with a bot
    time control = 3 min
  steps:
    - Создать игру с заданными параметрами (остальное - дефолтные)
    - Дождаться истечения времени на таймере
  expected-result: |
    Игра завершилась. Результат игры - победителя нет

- summary: | # 24
    Игра завершается при сдаче пользователя
  requirement: |
    Игра завершилась, когда пользователь сдался
  prerequisites: |
    Пользователь авторизован
  test-data: |
    level = 1
    game type = with a bot
  steps:
    - Создать игру с заданными параметрами (остальное - дефолтные)
    - Кликнуть "Other actions", "Give up"
    - Подтвердить действие в модальном окне
  expected-result: |
    Появилось модальное окно, сообщающее что пользователь проиграл
